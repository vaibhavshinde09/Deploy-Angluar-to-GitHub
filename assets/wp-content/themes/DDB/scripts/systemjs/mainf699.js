!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([,,function(e,t){function n(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function i(a,s){try{var r=t[a](s),o=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(o).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(o)}("next")}))}}class i{constructor(e){this.endpoint=window.ddb.api.ajax_url,this.awardsAction=window.ddb.api.awards.action,this.awardsToken=window.ddb.api.awards.token,this.$el=$(e),this.$container=this.$el.find(".card-container"),this.$loadhandler=this.$el.find(".awards-load-more"),this._isLoading=!1,this._count=this.$container.find(".card-container__item").length,this.$loadhandler&&(this.nextPage=this.$loadhandler.data("page"),this.$loadhandler.on("click",i.prototype.loadMore.bind(this)))}generateHTMLItem(e,t){return`\n      <li class="card-container__item">\n        <article class="card card--award" data-speed="${.5*(t%2==0?1:-1)}">\n          ${e.image?`\n      <figure class="card__image image is-square">\n        <img src="${e.image}" class="image-block " alt="${e.title}">\n      </figure>\n    `:""}\n          <div class="card__content">\n            <header>\n              <span>${e.title}</span>\n            </header>\n            <p>${e.description}</p>\n          </div>\n        </article>\n      </li>\n    `}loadMore(){var e=this;return n((function*(){if(!e._isLoading)try{e.setLoading(!0);const t=(yield e.fetch()).data;t.data.list&&t.data.list.forEach((function(t){let n=e.generateHTMLItem(t,e._count);e.$container.data("ddb.cardcontainer").add(n),e._count+=1})),0==t.data.pagination.next_page?e.$loadhandler.fadeOut():(e.nextPage=t.data.pagination.next_page,e.setLoading(!1))}catch(t){window.ddb.debug&&console.log("error",t),e.setLoading(!1)}}))()}setLoading(e){this._isLoading=!!e,this.$loadhandler.buttonloader("loading",!!e)}fetch(){var e=this;return n((function*(){return axios.post(e.endpoint,Qs.stringify({action:e.awardsAction,page:e.nextPage,token:e.awardsToken}))}))()}}e.exports=i},function(e,t){function n(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function i(a,s){try{var r=t[a](s),o=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(o).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(o)}("next")}))}}class i{constructor(e){this.endpoint=window.ddb.api.ajax_url,this.newsAction=window.ddb.api.news.action,this.newsToken=window.ddb.api.news.token,this.$el=$(e),this.$container=this.$el.find(".card-container"),this.$loadhandler=this.$el.find(".news-load-more"),this._isLoading=!1,this._count=this.$container.find(".card-container__item").length,this.$loadhandler&&(this.nextPage=this.$loadhandler.data("page"),this.$loadhandler.on("click",i.prototype.loadMore.bind(this))),this.$el.data("ddb.newslisting",this)}generateHTMLItem(e,t){return`\n      <li class="card-container__item">\n        <article class="card card--news" data-scroll-disabled="md" data-speed="${.5*(t%2==0?1:-1)}">\n          ${e.image?`\n      <figure class="card__image">\n        <img src="${e.image}" class="image-block" alt="${e.title}">\n      </figure>\n    `:""}\n          <div class="card__content">\n            <div class="card__content-meta">\n              <small>${e.date||""} | ${e.country||""}</small>\n            </div>\n            <header>\n              <span>${e.title}</span>\n            </header>\n            <div class="data__cta">\n              <a href="${e.url}" aria-label="Read More" class="link-redirection" target="_self">\n                Read More <i class="icon-chevron-right"></i>\n              </a>\n            </div>\n          </div>\n        </article>\n      </li>\n    `}loadMore(){var e=this;return n((function*(){if(!e._isLoading)try{e.setLoading(!0);const t=(yield e.fetch()).data;t.data.list&&t.data.list.forEach((function(t){let n=e.generateHTMLItem(t,e._count);e.$container.data("ddb.cardcontainer").add(n),e._count+=1})),0==t.data.pagination.next_page?e.$loadhandler.fadeOut():(e.nextPage=t.data.pagination.next_page,e.setLoading(!1))}catch(t){window.ddb.debug&&console.log("error",t),e.setLoading(!1)}}))()}setLoading(e){this._isLoading=!!e,this.$loadhandler.buttonloader("loading",!!e)}fetch(){var e=this;return n((function*(){return axios.post(e.endpoint,Qs.stringify({action:e.newsAction,page:e.nextPage,token:e.newsToken}))}))()}}e.exports=i},function(e,t){function n(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function i(a,s){try{var r=t[a](s),o=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(o).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(o)}("next")}))}}class i{constructor(e){this.endpoint=window.ddb.api.ajax_url,this.creativeAction=window.ddb.api.creative.action,this.creativeToken=window.ddb.api.creative.token,this.$el=$(e),this.$container=this.$el.find(".card-container"),this.$loadhandler=this.$el.find(".creative-load-more"),this._isLoading=!1,this._count=this.$container.find(".card-container__item").length,this.$loadhandler&&(this.nextPage=this.$loadhandler.data("page"),this.$loadhandler.on("click",i.prototype.loadMore.bind(this))),this.$el.data("ddb.creativelisting",this)}generateHTMLItem(e,t){return`\n      <li class="card-container__item">\n        <article class="card card--award">\n          ${e.image?`\n      <figure data-url="${e.url}" data-cursor="disabled" class="card__image image is-square">\n        <div class="image-cover" style="background-image: url(${e.image})"></div>\n      </figure>\n    `:""}\n          <div class="card__content">\n            <h5 class="title is-6">\n              <a href="${e.url}" title="Read More" class="is-link--gray" target="_self">${e.title}</a>\n            </h5>\n          </div>\n        </article>\n      </li>\n    `}loadMore(){var e=this;return n((function*(){if(!e._isLoading)try{e.setLoading(!0);const t=(yield e.fetch()).data;t.data.list&&t.data.list.forEach((function(t){let n=e.generateHTMLItem(t,e._count);e.$container.data("ddb.cardcontainer").add(n),e._count+=1})),0==t.data.pagination.next_page?e.$loadhandler.fadeOut():(e.nextPage=t.data.pagination.next_page,e.setLoading(!1))}catch(t){window.ddb.debug&&console.log("error",t),e.setLoading(!1)}}))()}setLoading(e){this._isLoading=!!e,this.$loadhandler.buttonloader("loading",!!e)}fetch(){var e=this;return n((function*(){return axios.post(e.endpoint,Qs.stringify({action:e.creativeAction,page:e.nextPage,token:e.creativeToken}))}))()}}e.exports=i},function(e,t){function n(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function i(a,s){try{var r=t[a](s),o=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(o).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(o)}("next")}))}}e.exports=e=>{let t,i=(()=>{var e=n((function*(e){return(yield axios.get(e)).data}));return function(t){return e.apply(this,arguments)}})(),a=(()=>{var e=n((function*(e){return(yield axios.get(e)).data}));return function(t){return e.apply(this,arguments)}})(),s=(()=>{var e=n((function*(e){return(yield axios.get(e)).data}));return function(t){return e.apply(this,arguments)}})(),r=(()=>{var e=n((function*(e,t){return(yield axios.get(e+"?s="+t)).data}));return function(t,n){return e.apply(this,arguments)}})(),o=window.ddb.api.offices.is_country_specific||!1,l=window.ddb.api.offices.apiUrl,d=window.ddb.api.offices.region,c=window.ddb.api.offices.country,u=window.ddb.api.offices.selected_offices,f="",h=window.ddb.api.offices.regions,_=[];const g={NOT_CHOOSE:0,REGION:1,COUNTRY:2};let p="",m=g.NOT_CHOOSE;function $(){p=window.location.pathname}function v(){if(1==o){e("#region-filter").hide(),e("#title-filter").hide(),e("#title-filter").parent().attr("style","margin-bottom: 0 !important"),x()}else i(l).then(e=>{if((t=function(e){let t=[];return e.forEach(e=>{t.push(e.slug)}),t}(e)).indexOf(d)>=0){y(document.getElementById(d))}else history.pushState(null,"","/offices/"),$()})}function b(e,t){history.pushState(null,"",window.location.origin+"/offices/"+e+"/"+t+"/"),$()}function w(e){return data=[],(e=Object.values(e.countries)).forEach(e=>{e.offices=Object.values(e.offices),e.offices.forEach(e=>{data.push(e)})}),data}function y(t){e("#countries > .scroll-content").html(""),e("#country").html("Loading..."),e("#offices-list").html(""),e("#country-filter").show(),d=e(t).attr("id");let n,i=e(t).html();console.log(i),e("#region").html(i),function(e){history.pushState(null,"","/offices/"+e+"/"),$()}(d),a(l+d).then(t=>{if((n=function(e,t){let n=[];return e.forEach(e=>{e.slug==t&&null!=e.countries&&e.countries.forEach(e=>{n.push({name:e.name,value:e.slug})})}),_=n,n}(t,d)).length>0){e("#country").html("Country"),e("#offices-list").html("");let t=!1;n.forEach(n=>{let i=` <div class="option" id="${n.value}" data-cursor="disabled">${n.name}</div>`;e("#countries > .scroll-content").append(i),c==n.value&&(t=!0,f=n.name)}),t&&(e("#country").html(f),b(d,c),x()),e("#countries > .scroll-content").click(t=>{c=e(t.target).attr("id"),f=e(t.target).html(),e("#country").html(f),b(d,c),x()})}})}function x(){e("#offices-list").html(""),e(".loading").html('\n      <div class="spinner"></div>\n    '),s(l+d+"/"+c+"/").then(t=>{const n=function(e,t,n){let i=[];return e.forEach(e=>{e.slug==t&&null!=e.countries&&e.countries.forEach(e=>{u.length>0?u.map((function(t){e.slug==n&&null!=e.offices&&e.offices.forEach(e=>{e.slug==t&&i.push(e)})})):e.slug==n&&null!=e.offices&&e.offices.forEach(e=>{i.push(e)})})}),i}(t,d,c);let i=window.matchMedia("(min-width: 768px)");e(".card-container__inner").get(0).slick&&0==e(".card-container__inner").get(0).slick.unslicked&&(e(".card-container__inner").slick("unslick"),e("#offices-list").html("")),e(".loading").html(""),n.length>0&&(n.forEach(t=>{let n=t.details[0].website;n=n&&-1==n.indexOf("http")?"http://"+n:n;const i=t.details[0].main_phone?`<div class='address__tel'>Tel. <span>${t.details[0].main_phone}</span></div>`:"",a=t.details[0].main_fax?`<div class='address__fax'>Fax. <span>${t.details[0].main_fax}</span></div>`:"",s=n?`<a href="${n}" title="${t.details[0].website}" target="_blank">${t.details[0].website}</a>`:"";let r=`\n            <li class='card-container__item'>\n              <div class='card card--office'>\n                <div class='card__image'>\n                  <figure class='card__image image is-square'>\n                    <div style='background-image: url(${t.thumbnail})' class='image-cover'></div>\n                  </figure>\n                  <div class='card__content'>\n                    <address>\n                      <div class='address__title'>${t.name}</div>\n                      <div class='address__city'>${t.city}</div>\n                      <div class='address__addr'>${t.details[0].address}</div>\n                      ${i}\n                      ${a}\n                    </address>\n                  </div>\n                  <footer class='card__footer card__footer--links'>\n                      ${s}\n                  </footer>\n                </div>\n              </div>\n            </li>\n          `;e("#offices-list").append(r),window.ddb.utils.triggerResize()}),!1===i.matches&&e(".card-container__inner").slick({dots:!1,infinite:!1,speed:500,useTransform:!0,variableWidth:!0,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,autoplay:!1,arrows:!1}))}).then(()=>{setTimeout(()=>{e(".card-container__item").matchHeight()},1e3)})}v(),e(window).on("popstate",(function(t){console.log(p),p!=window.location.pathname&&($(),function(){var e=window.location.pathname.split("/");if(e.length<3)return m=g.NOT_CHOOSE,d="",void(c="");if("offices"!=e[1])return;if(3===e.length)return m=g.REGION,d=e[2],void(c="");4===e.length&&(m=g.COUNTRY,d=e[2],c=e[3])}(),m===g.COUNTRY?(_.forEach(e=>{c==e.value&&(f=e.name)}),e("#country").html(f),b(d,c),x()):v())})),e("#regions > .scroll-content > .option").click(e=>{c="",y(e.target)}),e("#search-office").keyup(t=>{let n=t.target.value;e("#offices-list-search > .scroll-content").html(""),n.length>=3&&(e("#offices-list-search > .scroll-content").html('\n        <div class="spinner"></div>\n      '),r(l,n).then(t=>{const n=function(e){let t=[],n=Object.keys(h);return 0==e.results?t:(n.length>0&&n.forEach(n=>{null!=e[n]&&t.push(...w(e[n]))}),t)}(t);e("#offices-list-search > .scroll-content").html(""),n.length>0?n.forEach(t=>{let n=`\n              <div class="option">\n                <address>\n                  <div class='address__title'>${t.name}</div>\n                  <div class='address__addr'>${t.address}</div>\n                  <div class='address__tel'>${""!==t.main_fax?"Tel.":""} <span>${t.main_phone}</span></div>\n                  <div class='address__fax'>${""!==t.main_fax?"Fax.":""}<span>${t.main_fax}</span></div>\n                </address>\n              </div>\n            `;e("#offices-list-search .scroll-content").append(n)}):e("#offices-list-search .scroll-content").html("<span>No result(s) found.</span>")}))})}},function(e,t){function n(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function i(a,s){try{var r=t[a](s),o=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(o).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(o)}("next")}))}}class i{constructor(e,t){this.el=e,this.$el=$(e),this._officesApiURL=window.ddb.api.offices.apiUrl,this._is_country_specific=window.ddb.api.offices.is_country_specific,this._selected_offices=window.ddb.api.offices.selected_offices,this._selectedRegion=null,this._selectedCountry=null,this._defaultRegion=window.ddb.api.offices.region||null,this._defaultCountry=window.ddb.api.offices.country||null,this._regions=[],this._countries=[],this._offices=[],this.$regions=this.$el.find(".js-region-list"),this.$countries=this.$el.find(".js-country-list"),this.$resultPanel=this.$el.find(".js-result-panel"),this.$resultList=this.$el.find(".js-result-list"),this.$careerPanel=null,this._isLoading=!1,window.addEventListener("popstate",i.prototype.onPopState.bind(this)),this.onPopState(),$.fn.matchHeight._afterUpdate=function(e,t){window.ddb.utils.triggerResize()}}layout(){const e=this.$resultList.data("ddb.cardcontainer");e&&e.layout()}pushState(){let e=[];this._selectedRegion&&e.push(this._selectedRegion),this._selectedCountry&&e.push(this._selectedCountry),window.history.pushState(null,"",window.location.origin+"/careers/"+e.join("/"))}onPopState(e){var t=this;return n((function*(){if(0==t._regions.length&&(yield t._populateRegions()),0==window.location.pathname.indexOf("/careers")){if(1==t._is_country_specific)yield t._setRegion(null,t._defaultRegion),yield t._setCountry(null,t._defaultCountry);else{t.$regions.css({display:"block"});const e=window.location.pathname.substring("/careers".length).split("/"),n=e[1]&&""!=e[1]?e[1]:null,i=e[2]&&""!=e[2]?e[2]:null;n!=t._selectedRegion&&(yield t._setRegion(null,n),t.$regions.find(".btn-filter").text(t._getLabelFromList(t._regions,n)||t.$regions.find(".btn-filter").data("placeholder"))),i!=t._selectedCountry&&(yield t._setCountry(null,i),t.$countries.find(".btn-filter").text(t._getLabelFromList(t._countries,i)||t.$countries.find(".btn-filter").data("placeholder")))}window.ddb.utils.triggerResize()}}))()}_onRegionChange(e){var t=this;return n((function*(){const n=$(e.target).data("value");t.$regions.find(".btn-filter").text(e.target.innerText),t._setRegion(e,n)}))()}_onCountryChange(e){var t=this;return n((function*(){const n=$(e.target).data("value");t.$countries.find(".btn-filter").text(e.target.innerText),t._setCountry(e,n)}))()}_onLocationClick(e){var t=this;return n((function*(){e.preventDefault();const n=$(e.target).data("office");t._setLocation(e,n)}))()}_fetchRegions(){var e=this;return n((function*(){return(yield axios.get(e._officesApiURL)).data}))()}_fetchCountries(e){var t=this;return n((function*(){return(yield axios.get(`${t._officesApiURL}${e}`)).data}))()}_fetchOffices(e,t){var i=this;return n((function*(){return(yield axios.get(`${i._officesApiURL}${e}/${t}`)).data}))()}_populateRegions(){var e=this;return n((function*(){try{const t=yield e._fetchRegions();e._regions=e._processRegionList(t),e._populateDropdown(e.$regions,e._regions,"Region",e._selectedRegion,i.prototype._onRegionChange.bind(e)),window.ddb.utils.triggerResize()}catch(e){console.log("error",e)}}))()}_populateCountries(){var e=this;return n((function*(){try{const t=e._selectedRegion,n=yield e._fetchCountries(t);if(t!=e._selectedRegion)return;e._countries=e._processCountryList(n,t),e._populateDropdown(e.$countries,e._countries,"Country",e._selectedCountry,i.prototype._onCountryChange.bind(e)),window.ddb.utils.triggerResize()}catch(e){console.log("error",e)}}))()}_populateOffices(){var e=this;return n((function*(){const t=e._selectedRegion,n=e._selectedCountry;try{e._showOfficesLoading();const i=yield e._fetchOffices(t,n);if(t!=e._selectedRegion||n!=e._selectedCountry)return;e._offices=e._processOfficesList(i,t,n),e._hideOfficesLoading(),e._renderOfficesList(),window.ddb.utils.triggerResize()}catch(e){console.log("error",e)}}))()}_populateCareersFrame(e){var t=this;return n((function*(){try{t._showCareerLoading(),t.$resultPanel.css({display:""});const n=e.jobs.jobframe_link;t._hideCareerLoading(),n?t.$careerPanel.find(".career-offices-frame").attr("src",n):t.$careerPanel.find(".card-panel__body").html('<span class="">No Job Openings</span>'),window.ddb.utils.triggerResize()}catch(e){console.log("e",e)}}))()}_setRegion(e,t){var i=this;return n((function*(){i._populateDropdown(i.$countries,[],"Loading..."),i._selectedRegion=t,i._selectedCountry=null,i._selectedOffice=null,e&&i.pushState(),i._countries=[],i._offices=[],t?1==i._is_country_specific?i.$countries.css({display:"none"}):i.$countries.css({display:""}):i.$countries.css({display:"none"}),i.$resultPanel.css({display:"none"}),window.ddb.utils.triggerResize(),t&&(yield i._populateCountries())}))()}_setCountry(e,t){var i=this;return n((function*(){i._selectedCountry=t,i._selectedOffice=null,e&&i.pushState(),i._offices=[],t?i.$resultPanel.css({display:""}):i.$resultPanel.css({display:"none"}),i.$resultList.data("ddb.cardcontainer").empty(),i.$careerPanel&&i.$careerPanel.modal("hide"),window.ddb.utils.triggerResize(),t&&(yield i._populateOffices())}))()}_setLocation(e,t){var i=this;return n((function*(){i._selectedOffice=t,i._attachCareerPanel(t,i._getOfficeIndex(t.slug)),i._populateCareersFrame(t)}))()}_processRegionList(e){return e.map(e=>({value:e.slug,label:e.name}))}_processCountryList(e,t){const n=e.filter(e=>e.slug==t);return 0==n.length?[]:n[0].countries.map(e=>({value:e.slug,label:e.name}))}_processOfficesList(e,t,n){const i=e.filter(e=>e.slug==t);if(0==i.length)return[];const a=i[0].countries.filter(e=>e.slug==n);return 0!=a.length&&a[0].offices?a[0].offices.filter(e=>e.lists.includes("J")):[]}_showOfficesLoading(){this.$resultPanel.find(".result-panel__loading").css({display:""})}_hideOfficesLoading(){this.$resultPanel.find(".result-panel__loading").css({display:"none"})}_showOffice(e,t,n,a){const s=$(t);s.find("[data-modal]").data("office",n).on("click",i.prototype._onLocationClick.bind(this)),e.cardcontainer(),a.add(s),e.find(".card-container__item").matchHeight({byRow:!1})}_renderOfficesList(){const e=this.$resultList.data("ddb.cardcontainer");e.empty();const t=this.$resultList;this._offices.forEach(n=>{const i=this._generateOfficeCard(n);this._selected_offices.length>0?1==this._selected_offices.includes(n.slug)&&this._showOffice(t,i,n,e):this._showOffice(t,i,n,e)}),e.layout(),window.ddb.$document.trigger("sitescroll.rebuild")}_generateOfficeCard(e){let t="";if(e.jobs.jobframe_link&&e.jobs.jobframe_link.trim()){t+=`\n        <a href="${-1==e.jobs.jobframe_link.indexOf("http")?`http://${e.jobs.jobframe_link}`:e.jobs.jobframe_link}" target="_blank" data-modal="true" class="link-redirection is-block">View Job Portal</a>\n      `}if(e.jobs.resume_email&&e.jobs.resume_email.trim()&&(t+=`\n        <a href="mailto:${e.jobs.resume_email}" class="link-redirection is-block">Contact our Talent Team</a>\n      `),e.jobs.resume_link&&e.jobs.resume_link.trim()){t+=`\n        <a href="${-1==e.jobs.resume_link.indexOf("http")?`http://${e.jobs.resume_link}`:e.jobs.resume_link}" target="_blank" class="link-redirection is-block">Visit our Job Site</a>\n      `}const n=e.details[0].main_phone?`<div class="address__tel">Tel. <span>${e.details[0].main_phone}</span></div>`:"",i=e.details[0].main_fax?`<div class="address__fax">Fax. <span>${e.details[0].main_fax}</span></div>`:"";return`\n      <li class='card-container__item' data-mh="office-card">\n        <div class='card card--office' data-slug='${e.slug}'>\n          <figure class='card__image image is-square' style='background-color: #F2F2F2;'>\n            <div style='background-image: url(${e.thumbnail||""})' alt='${e.city}' class='image-cover'></div>\n          </figure>\n          <div class='card__content'>\n            <address>\n              <div class="address__block">\n                <div class="address__title">${e.name}</div>\n                <div class="address__addr">${e.details[0].address}</div>\n              </div>\n              <div class="address__block">\n                ${n}\n                ${i}\n              </div>\n            </address>\n          </div>\n          <footer class="card__footer card__footer--links">\n            ${t}\n          </footer>\n        </div>\n      </li>\n    `}_attachCareerPanel(e,t){if(null==this.$careerPanel){let e=this._generateCareerPanel();this.$careerPanel=$(e),this.$careerPanel.appendTo(document.body).on("hide.ddb.modal",i.prototype._removeCareerPanel.bind(this)).on("hidden.ddb.modal",i.prototype._resetCareerPanel.bind(this))}let n=e.jobs.jobframe_title?e.jobs.jobframe_title:e.name,a=e.jobs.jobframe_title?e.name:e.city;this.$careerPanel.find(".modal-title").html(n),this.$careerPanel.find(".modal-subtitle").html(a),this.$careerPanel.modal("show")}_removeCareerPanel(){this._selectedOffice=null,this.$careerFrame=this.$careerPanel.find(".career-offices-frame"),this.$careerFrame.src=""}_resetCareerPanel(){}_generateCareerPanel(){return'\n    <div class="modal fade" id="career-offices-panel" tabindex="-1" role="dialog" aria-labelledby="career-offices-panel" aria-hidden="true">\n      <div class="modal-dialog modal-xl" role="document">\n        <div class="modal-content">\n          <div class="modal-header">\n            <div class="modal-header__inner">\n              <h5 class="modal-title">Mango Communications</h5>\n              <div class="modal-subtitle">Sydney</div>\n            </div>\n\n            <button type="button" class="button-icon" data-dismiss="modal" aria-label="Close">\n              <span class="icon-times-light"></span>\n            </button>\n          </div>\n          <div class="modal-body">\n            <div class="spinner"></div>\n            <iframe class="career-offices-frame" src=\'\'></frame>\n          </div>\n        </div>\n      </div>\n    </div>\n    '}_showCareerLoading(){this.$careerPanel.find(".spinner").css({display:""})}_hideCareerLoading(){this.$careerPanel.find(".spinner").css({display:"none"})}_populateDropdown(e,t,n,i,a){let s=!1;e.find(".scroll-content").empty(),t.forEach((t,n)=>{let a=` <div class="option ${i==t.value?"is-selected":""}" data-value="${t.value}" data-cursor="disabled">${t.label}</div>`;e.find(".scroll-content").append(a),s=i==t.value||s}),s?e.find(".btn-filter").text(i):e.find(".btn-filter").text(n),e.find(".option").on("click",a)}_getLabelFromList(e,t){if(e instanceof Array!=!0)return null;const n=e.filter(e=>e.value==t);return n&&n[0]&&n[0].label?n[0].label:null}_getOfficeIndex(e){return this._offices.findIndex(t=>t.slug==e)}}e.exports=i},function(e,t){function n(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function i(a,s){try{var r=t[a](s),o=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(o).then((function(e){i("next",e)}),(function(e){i("throw",e)}));e(o)}("next")}))}}const i={EMPTY:0,NO_RESULT:1,LOADING:2,WITH_RESULT:3};class a{constructor(e){this.endpoint=window.ddb.api.search.url,this.newsToken=window.ddb.api.search.token,this.action=window.ddb.api.search.action,this.$el=$(e),this.el=e,this.$form=this.$el.find(".site-search-form"),this.$input=this.$form.find(".input-control"),this.$popular=this.$el.find(".site-search-popular"),this.$result=this.$el.find(".site-search-result"),this.$resultList=this.$el.find(".site-search-result__list"),this.$alert=this.$el.find(".site-search-result__alert"),this.$loadmoreBtn=this.$el.find(".button"),this.$loading=this.$el.find(".site-search-result__loading"),this.page=1,this._keyword="",this._state=i.EMPTY,this._loading=!1,this.$input.on("change",a.prototype.onInputChange.bind(this)),this.$loadmoreBtn.on("click",a.prototype.onClickLoadmore.bind(this)),this.$popular.find(".site-search-popular__item a").on("click",a.prototype.onClickPopularSearchItem.bind(this)),this.$loading.css({display:"none","text-align":"center"}),this.$loadmoreBtn.hide()}onInputChange(e){const t=this.$input.val();t.length>=3?(this.showLoading(),this.showSearchResult(),this._search(t)):this.showPopularSearch()}onClickLoadmore(e){this._isLoading||(this.page+=1,this.setLoadmoreLoading(!0),this._search(this._keyword))}onClickPopularSearchItem(e){const t=e.currentTarget.innerText;this.$input.val(t).triggerHandler("change")}_search(e){var t=this;return n((function*(){t._keyword=e;const n=yield t.search(t._keyword);t.$loading.hide();let i=n.data;if(i.data)if(i.data.list&&i.data.list.length>0){let e="";i.data.list.forEach((function(n){e+=t.generateHTMLItem(n)})),t.$resultList.append(e),i.data.pagination&&t.loadMore(i.data.pagination),t._isLoading&&t.setLoadmoreLoading(!1)}else t.$alert.text(t.generateAlertMessage())}))()}generateHTMLItem(e){return`\n            <div class="site-search-result__item" data-url="${e.link}">\n               <div class="site-search-result__item__preview">\n                 <div class="image-cover " style="background-image: url(${e.image}); "></div>\n               </div>\n               <div class="site-search-result__item__content">\n                 <span class="site-search-result__item__tag">${e.post_type}</span>\n                 <a href="${e.link}" class="site-search-result__item__title">${this.limitTitle(e.title)}</a>\n               </div>\n            </div>\n    `}generateAlertMessage(){return`Sorry we couldn't find any results matching "${this._keyword}"`}populateSearchResult(e){e.length}loadMore(e){e.page<e.total_page?this.$loadmoreBtn.show():this.$loadmoreBtn.hide()}setLoadmoreLoading(e){this._isLoading=!!e,this.$loadmoreBtn.buttonloader("loading",!!e)}showLoading(){this.page=1,this.$alert.html(""),this.$resultList.html(""),this.$loadmoreBtn.hide(),this.$loading.show()}limitTitle(e){return e.length>20&&(e=e.substring(0,20)+"..."),e}showPopularSearch(){this.$popular.css({display:"block"}),this.$result.css({display:"none"})}showSearchResult(){this.$result.css({display:"block"}),this.$popular.css({display:"none"})}search(e){var t=this;return n((function*(){return axios.get(t.endpoint,{params:{page:t.page,s:e}})}))()}}e.exports=a},,,,,,,,,,,,function(e,t,n){e.exports=n(20)},function(e,t,n){"use strict";n.r(t);var i=n(2),a=n.n(i),s=n(3),r=n.n(s),o=n(4),l=n.n(o),d=n(5),c=n.n(d),u=n(6),f=n.n(u),h=n(7),_=n.n(h);jQuery(document).ready(e=>{axios.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",axios.defaults.headers.post["X-Requested-With"]="XMLHttpRequest";const t=e("#news-listing").get(0);if(t){new r.a(t)}const n=e("#awards-listing").get(0);if(n){new a.a(n)}const i=e("#creative-listing").get(0);if(i){new l.a(i)}e("#offices-list").get(0)&&c()(e);const s=e(".gheader__navbar__search").get(0);if(s){new _.a(s)}const o=e(".js-career-offices-list").get(0);if(o){new f.a(o)}})}]);
//# sourceMappingURL=main.js.map